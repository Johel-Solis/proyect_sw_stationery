{% extends "general/layout.html" %}
{% load static %}
{%block link%}
    <link rel="stylesheet" href="{% static 'papeleria/css/Bootstrap-4---Payment-Form.css' %}">
    <link rel="stylesheet" href="{% static 'papeleria/css/Contact-form.css' %}">
    <link rel="stylesheet" href="{% static 'papeleria/css/Login-Form-Basic-icons.css' %}">
    <link rel="stylesheet" href="{% static 'papeleria/css/PHP-Contact-Form-dark-contact.css' %}">
    <link rel="stylesheet" href="{% static 'papeleria/css/PHP-Contact-Form-dark.css' %}">
    <link rel="stylesheet" href="{% static 'papeleria/css/Responsive-Form-Contact-Form-Clean.css' %}">
    <link rel="stylesheet" href="{% static 'papeleria/css/Responsive-Form.css' %}">
{%endblock%}

{%block script%}
    <script src="{% static 'papeleria/js/Bootstrap-4---Payment-Form.js' %}"></script>
    <script src="{% static 'papeleria/js/PHP-Contact-Form-dark-1.js' %}"></script>
    <script src="{% static 'papeleria/js/PHP-Contact-Form-dark.js' %}"></script>
    <script src="{% static 'papeleria/js/obtenerCliente.js' %}"></script>
    <script src="{% static 'papeleria/js/ObtenerProducto.js' %}"></script>

{%endblock%}
{% block body %}





<div class="container">
    <div class="justify-content-center align-items-center align-content-center align-self-center">
        
            <div class="form-group justify-content-center align-items-center align-content-center align-self-center" style="margin-top: 25px;">
                <div class="justify-content-center align-items-center align-content-center align-self-center mr-5 ml-5" id="formdiv" style="background: #ffffff;width: 100%;margin-right: 0;">
                    <div class="form-row justify-content-center align-items-center align-content-center align-self-center" style="margin-right: 0px;margin-left: 0px;padding-top: 24px;">
                        <div class="col-auto justify-content-center align-items-center align-content-center align-self-center">
                            <h1 class="text-left" style="font-family: Merriweather, serif;font-weight: bold;">Registrar Venta</h1>
                        </div>
                    </div>

                    <div class="form-row" style="margin-right: 0px;margin-left: 0px;padding-top: 24px;border-bottom-style: solid;">
                        <div class="col" style="margin-right: 7px;margin-left: 4px;">
                            <p class="text-center ml-0" style="font-family: Roboto, sans-serif;font-size: 24px;margin-bottom: 1px;"><strong>Producto</strong></p>
                            <form id="product-form"  method="POST">
                            <div>
                                <p style="font-family: Roboto, sans-serif;font-size: 24px;margin-bottom: 1px;" class="ml-0"><strong>Referencia:</strong></p>
                                <div><input class="form-control" type="number" style="margin-left: 0px;font-family: Roboto, sans-serif;width: 100%;" name="reference"  id = "reference" placeholder="Referencia"  minlength="0">
                                    <div>
                                        <p style="margin-left: 2%;font-size: 24px;margin-top: 0px;" class="ml-0 mb-0"><strong>Nombre:</strong></p>
                                        <input class="form-control" type="text" style="margin-left: 0px;width: 100%;margin-bottom: 10px;" placeholder="Nombre" name="name_product" id="name_product" readonly >
                                    </div>
                                    <div>
                                        <p style="margin-left: 2%;font-size: 24px;margin-top: 0px;" class="ml-0 mb-0"><strong>Precio:</strong></p>
                                    </div>
                                    <div><input class="form-control" type="number" style="margin-left: 0px;width: 100%;margin-bottom: 9px;" placeholder="Precio" name="precio" id = "precio" readonly></div>
                                    <div>
                                        <p style="margin-left: 2%;font-size: 24px;margin-top: 0px;" class="ml-0 mb-0"><strong>Cantidad:</strong></p>
                                    </div>
                                    <div><input class="form-control" type="number" style="margin-left: 0px;width: 100%;margin-bottom: 9px;" placeholder="cantidad" name="cantidad" id ="cant"></div>
                                </div>
                            </div>
                            </form>
                            <div class="justify-content-end align-items-end">
                                
                            <button class="btn btn-light btn-lg justify-content-end" style="font-family: Merriweather, serif;margin-left: 6px;" onclick= "obtenerProducto()">Seleccionar</button>
                            <button class="btn btn-light btn-lg" style="margin-left: 6px;font-family: Merriweather, serif;" onclick= "agregarProducto()">Agregar</button>
                            </div>
                        </div>
                        <div class="col align-self-end" style="margin-left: 5px;margin-right: 8px;">
                            <div>
                                <p class="text-center ml-0 mb-0" style="margin-left: 2%;margin-top: 0px;font-size: 24px;margin-bottom: 12px;"><strong>Cliente&nbsp;</strong></p>
                                <p style="margin-left: 2%;font-size: 24px;margin-top: 5px;" class="ml-0 mb-0"><strong>Cedula:</strong></p>
                                <div>
                                    <form id="customer-form"  method="POST">
                    
                                        {{ setPersonForm.id }}
                                    
                                    </form>
                                    
                                    <div>
                                        <p class="text-left ml-0" style="font-family: Roboto, sans-serif;font-size: 24px;margin-bottom: 1px;margin-top: 27px;"><strong>Nombre :</strong></p>
                                    </div>
                                </div>
                                <input class="form-control" type="text" style="margin-left: 0px;width: 100%;margin-bottom: 10px;" placeholder="Nombre" name="name_customer" id="name_customer" readonly >
                                <button class="btn btn-light btn-lg" style="margin-left: 6px;font-family: Merriweather, serif;" onclick= "obtenerCliente()">Seleccionar</button>
                                <button class="btn btn-light btn-lg" style="margin-left: 6px;font-family: Merriweather, serif;">Nuevo Cliente</button>
                            </div>
                        </div>
                    </div>
                    <div class="form-row" style="margin-right: 0px;margin-left: 0px;padding-top: 0px;">
                        <div class="col" style="margin-top: 35px;">
                            <p class="text-center ml-0 mb-0" style="margin-left: 2%;font-size: 24px;margin-top: 0px;"><strong>Productos</strong></p>
                        </div>
                    </div>
                    <div class="form-row" style="margin-right: 0px;margin-left: 0px;padding-top: 0px;">
                        <div class="col">

                            <input class="form-control" type="hidden" style="margin-left: 0px;width: 100%;margin-bottom: 10px;"  name="contador" id="contador" readonly value="0">
            <table class="table table-striped table-bordered table-list">
              <thead>
                <tr>
                    <th>Referencia</th>
                    <th>Nombre</th>
                    <th>Cantidad</th>
                    <th>Valor unitario</th>
                    <th>Subtotal</th>
                    <th><em class="fa fa-cog"></em></th>
                   
                   
                </tr> 
              </thead>
              <tbody id = "tb_product">
                      <!--<tr>
                        <td>1</td>
                        <td>Cuaderno</td>
                         <td>20</td>
                         <td>20000</td>
                         <td>444</td>
                          
                          
                          <td align="center">
                          <a class="btn btn-danger"><em class="fa fa-trash"></em></a>
                        </td>
                      </tr>-->
                    </tbody>
            </table>
        
       




</div>
                    </div>
                    <div class="form-row justify-content-end align-items-end">
                        <div class="col text-left d-flex justify-content-end align-items-end align-content-end align-self-end">
                            <p style="font-size: 24px;width: 40%;margin-bottom: 0px;"><strong>Valor Total:</strong></p><input class="form-control" type="text" style="margin-left: 0px;margin-right: 10px;" name="total" readonly="">
                        </div>
                    </div>
                    <div class="form-row justify-content-end align-items-end">
                        <div class="col-md-8 col-xl-8 offset-md-1 text-right align-self-center" style="margin-left: 0px;margin-top: 20px;"><button class="btn btn-light btn-lg" style="margin-left: 6px;font-family: Merriweather, serif;" type="submit">Adicionar</button><button class="btn btn-light btn-lg" type="reset" style="font-family: Merriweather, serif;">cancelar</button></div>
                    </div>
                </div>
            </div>
        </form>
    </div>
</div>







<!--
    <div class="container">
        <div class="form-group justify-content-center align-items-center align-content-center align-self-center" style="margin-top: 25px;">
            <div style="background: blue">
                <form id="customer-form"  method="POST">
                    
                        {{ setPersonForm.as_p }}
                    
                </form>
                <button onclick= "obtenerCliente()">Seleccionar Cliente</button>
                <div id = "customer-form-result">

                </div>
                {%if customer %}
                    <p>Cedula: {{ customer.id }}</p>
                    <p>Nombre: {{ customer.name }}</p>
                {%endif%}
               <<form action="/search_product" method="POST" enctype="multipart/form-data">
                    {% csrf_token %}
                        {{ searchProductForm.as_p }}
                    <button type="submit">Buscar Producto</button>
                </form>
                <form action="/add_sale_detail" method="POST" enctype="multipart/form-data">
                    {% csrf_token %}
                        {{ newSaleDetailForm.as_p }}
                    <button type="submit">Adicionar Producto</button>
                </form>
                
                <h1>Productos</h1>
                {%if saleDetails %}
                {% for saleDetail in saleDetails %}
                    Nombre: {{ saleDetail.product.name }}, Precio unitario: {{ saleDetail.unit_price }}, Cantidad: {{ saleDetail.quantity }}, Subtotal: {{ saleDetail.total }}
                    <br>
                {% endfor %}
                {%else%}
                    <p>No se ha adicionado ningún producto al momento</p>
                {%endif%}
                <button onclick="location.href='/finish_bill'">Finalizar Factura</button>
            </div>
        </div>
    </div>-->
{% endblock %}


    